<!DOCTYPE>

<html>

	<head>
		<title>cytoscape-hierarchical.js demo</title>

		<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

		<!--<script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>-->

		<!-- for testing with local version of cytoscape.js -->
		<script src="../cytoscape.js/build/cytoscape.js"></script>

		<script src="cytoscape-hierarchical.js"></script>

		<style>
			body {
				font-family: helvetica neue, helvetica, liberation sans, arial, sans-serif;
				font-size: 14px;
			}

			#cy {
				position: absolute;
				left: 0;
				top: 0;
				bottom: 0;
				right: 0;
				z-index: 999;
			}

			h1 {
				opacity: 0.5;
				font-size: 1em;
				font-weight: bold;
			}
		</style>

		<script>
			document.addEventListener('DOMContentLoaded', function(){

				var cy = window.cy = cytoscape({
					container: document.getElementById('cy'),

					style: [
						{
							selector: 'node',
							style: {
								'content': 'data(id)'
							}
						},

						{
                            selector: 'edge',
                            style: {
                                'curve-style': 'haystack',
                                'haystack-radius': 0,
                                'width': 2,
                                'opacity': 0.666,
                                'line-color': '#d4ebf2'
                            }
						},

						{
							selector: ':selected',
							style: {

							}
						}
					],

                    elements: [
                        { data: { id: 'A' }, position: { x: 1, y: 1 } },
                        { data: { id: 'B' }, position: { x: 1.5, y: 1.5 } },
                        { data: { id: 'C' }, position: { x: 5, y: 5 } },
                        { data: { id: 'D' }, position: { x: 3, y: 4 } },
                        { data: { id: 'E' }, position: { x: 4, y: 4 } },
                        { data: { id: 'F' }, position: { x: 3, y: 3.5 } }
                    ],

                    layout: {
                        name: 'preset',
                        positions: function(node) {
                            return { x: node.position('x')*100, y: node.position('y')*100 };
                        },
                        fit: true,
                        padding: 40
                    }
                });

                // Input parameters to hierarchical algorithm
                var options = {
                    distance: "euclidean",
                    linkage: "single",

                    cutoff: 0,

                    //threshold: 50,
                    mode: 'dendrogram'
                };

                // Run hierarchical on graph nodes
                var clusters = cy.elements().hierarchical( options );

                // Assign random colors to each cluster!
                for (var c = 0; c < clusters.length; c++) {
                    clusters[c].style( 'background-color', '#' + Math.floor(Math.random()*16777215).toString(16) );
                }

			});
		</script>
	</head>

	<body>
		<h1>cytoscape-hierarchical demo</h1>

		<div id="cy"></div>

	</body>

</html>
